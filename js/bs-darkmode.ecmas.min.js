/* Copyright Notice
 * bs-darkmode v1.1.0
 * https://palcarazm.github.io/bs-darkmode
 * @author 2022 Pablo Alcaraz Mart√≠nez (https://github.com/palcarazm)
 * @funding GitHub Sponsors
 * @see https://github.com/sponsors/palcarazm
 * @license MIT
 * @see https://github.com/palcarazm/bs-darkmode/blob/master/LICENSE
 */

"use strict";!function(){class i{DARKMODE_CLASS="bs-darkmode";constructor(t,e){const s=!0,i=":root",r='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-brightness-high-fill" viewBox="0 0 16 16"><path d="M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/></svg>',a='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/></svg>',o="{}",n="{}";e=e||{},this.element=t;t=this.#getColorScheme();this.options={state:null===t?s:t,root:this.element.getAttribute("data-root")||e.root||i,lightlabel:this.element.getAttribute("data-lightlabel")||e.lightlabel||r,darklabel:this.element.getAttribute("data-darklabel")||e.darklabel||a,lightvars:this.element.getAttribute("data-lightvars")||e.lightvars||o,darkvars:this.element.getAttribute("data-darkvars")||e.darkvars||n},this.#init()}#init(){this.#render(),this.element.addEventListener("touchstart",t=>{this.#actionPerformed(t,this)}),this.element.addEventListener("click",t=>{this.#actionPerformed(t,this)}),window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",t=>{this.options.state!=t.matches&&this.#actionPerformed(t,this)}),this.element._bsDarkmode=this}#render(){this.element.innerHTML=this.options.state?this.options.lightlabel:this.options.darklabel;var t=JSON.parse(this.options.state?this.options.lightvars:this.options.darkvars);if("object"!=typeof t||Array.isArray(t)||null===t)throw new DOMException("Vars must be in a JSON Object.","TypeMismatchError");const s=document.querySelector(this.options.root),i=(s.removeAttribute("style"),Object.entries(t).forEach(([t,e])=>{s.style.setProperty("--"+t,e)}),["primary","secondary","success","info","warning","danger","light","dark"]);let r,a;Object.entries(t).forEach(([t,e])=>{i.includes(t)&&(a=this.#hexToRGB(e),r=this.#hexToHSL(e),s.style.setProperty("--"+t+"-h",r.h),s.style.setProperty("--"+t+"-s",r.s+"%"),s.style.setProperty("--"+t+"-l",r.l+"%"),s.style.setProperty("--"+t+"-rgb",a.r+","+a.g+","+a.b))}),this.options.state?s.classList.remove(this.DARKMODE_CLASS):s.classList.add(this.DARKMODE_CLASS)}toggle=function(t=!1){this.options.state=!this.options.state,this.#render(),t||this.#trigger()};light=function(t=!1){this.options.state||(this.options.state=!0,this.#render(),t||this.#trigger())};dark=function(t=!1){this.options.state&&(this.options.state=!1,this.#render(),t||this.#trigger())};#trigger=function(t){t||this.element.dispatchEvent(new Event("change",{bubbles:!0}))};#getColorScheme(){let t=null;return null===(t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?!1:t)&&("light"===this.element.getAttribute("data-state")?t=!0:"dark"===this.element.getAttribute("data-state")&&(t=!1)),t}#actionPerformed(t,e){e.toggle(!1),t.preventDefault()}#hexToHSL(t){var t=this.#hexToRGB(t),e=t.r,s=t.g,t=t.b;e/=255,s/=255,t/=255;let i=Math.min(e,s,t),r=Math.max(e,s,t),a=r-i,o=0,n,h=0;return o=0==a?0:r==e?(s-t)/a%6:r==s?(t-e)/a+2:(e-s)/a+4,(o=Math.round(60*o))<0&&(o+=360),h=(r+i)/2,n=+(100*(0==a?0:a/(1-Math.abs(2*h-1)))).toFixed(1),h=+(100*h).toFixed(1),{h:o,s:n,l:h}}#hexToRGB(t){let e=0,s=0,i=0;return 4==t.length?(e=parseInt("0x"+t[1]+t[1]),s=parseInt("0x"+t[2]+t[2]),i=parseInt("0x"+t[3]+t[3])):7==t.length&&(e=parseInt("0x"+t[1]+t[2]),s=parseInt("0x"+t[3]+t[4]),i=parseInt("0x"+t[5]+t[6])),{r:e,g:s,b:i}}}Element.prototype.bsDarkmode=function(t,e){let s=this._bsDarkmode||new i(this,t);if(t&&"string"==typeof t)switch(t.toLowerCase()){case"toggle":s.toggle(e);break;case"light":s.light(e);break;case"dark":s.dark(e);break;default:throw new DOMException("Bootstrap-Darkmode method '"+t+"' doesn't exist","NotSupportedError")}},"undefined"!=typeof window&&(window.onload=function(){document.querySelectorAll('[data-plugin="bsdarkmode"]').forEach(function(t){t.bsDarkmode()})}),"undefined"!=typeof module&&module.exports&&(module.exports=i)}();
//# sourceMappingURL=bs-darkmode.ecmas.min.js.map