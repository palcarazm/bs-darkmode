/* Copyright Notice
 * bs-darkmode v2.0.0
 * https://palcarazm.github.io/bs-darkmode
 * @author 2022 Pablo Alcaraz Mart√≠nez (https://github.com/palcarazm)
 * @funding GitHub Sponsors
 * @see https://github.com/sponsors/palcarazm
 * @license MIT
 * @see https://github.com/palcarazm/bs-darkmode/blob/master/LICENSE
 */

!function(r){"use strict";function a(t,e){this.$element=r(t),this.options=r.extend({},this.defaults(),e),this.init()}function e(t,o){if(o.toggle(!1),o.options.allowsCookie){var s=o.COOKIE_NAME;o=o.options.state?"light":"dark";var i=.25;let e="";if(i){let t=new Date;t.setTime(t.getTime()+24*i*60*60*1e3),e="; expires="+t.toUTCString()}document.cookie=s+"="+(o||"")+e+"; path=/"}t.preventDefault()}function c(t){let e=0,o=0,s=0;return 4==t.length?(e=parseInt("0x"+t[1]+t[1]),o=parseInt("0x"+t[2]+t[2]),s=parseInt("0x"+t[3]+t[3])):7==t.length&&(e=parseInt("0x"+t[1]+t[2]),o=parseInt("0x"+t[3]+t[4]),s=parseInt("0x"+t[5]+t[6])),{r:e,g:o,b:s}}a.DEFAULTS={state:!0,root:":root",allowsCookie:!1,lightlabel:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-brightness-high-fill" viewBox="0 0 16 16"><path d="M12 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/></svg>',darklabel:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-fill" viewBox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/></svg>',lightvars:"{}",darkvars:"{}"},a.prototype.DARKMODE_CLASS="bs-darkmode-dark",a.prototype.LIGHTMODE_CLASS="bs-darkmode-light",a.prototype.COOKIE_NAME="bs-darkmode-color-scheme",a.prototype.defaults=function(){var t=this.$element.is("[allowsCookie]")||a.DEFAULTS.allowsCookie,e=function(t,e){let o=null;!e||null!=(e=function(e){if(0<document.cookie.length){var o=document.cookie.indexOf(e+"=");if(-1!=o){o=o+e.length+1;let t=document.cookie.indexOf(";",o);return-1==t&&(t=document.cookie.length),decodeURIComponent(document.cookie.substring(o,t))}}return null}(t.COOKIE_NAME))&&("light"===e?o=!0:"dark"===e&&(o=!1));null===o&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(o=!1);null===o&&("light"===t.$element.attr("data-state")?o=!0:"dark"===t.$element.attr("data-state")&&(o=!1));return o}(this,t);return{state:null===e?a.DEFAULTS.state:e,root:this.$element.attr("data-root")||a.DEFAULTS.root,allowsCookie:t,lightlabel:this.$element.attr("data-lightlabel")||a.DEFAULTS.lightlabel,darklabel:this.$element.attr("data-darklabel")||a.DEFAULTS.darklabel,lightvars:this.$element.attr("data-lightvars")||a.DEFAULTS.lightvars,darkvars:this.$element.attr("data-darkvars")||a.DEFAULTS.darkvars}},a.prototype.init=function(){this.render(),this.$element.on("touchstart",t=>{e(t,this)}),this.$element.on("click",t=>{e(t,this)}),window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",t=>{this.options.state!=t.matches&&e(t,this)})},a.prototype.render=function(){this.$element.html(this.options.state?this.options.lightlabel:this.options.darklabel);var t=JSON.parse(this.options.state?this.options.lightvars:this.options.darkvars);if("object"!=typeof t||Array.isArray(t)||null===t)throw new DOMException("Vars must be in a JSON Object.","TypeMismatchError");const o=r(this.options.root),s=(o.attr("style",""),Object.entries(t).forEach(([t,e])=>{o.css("--bs-"+t,e)}),["primary","secondary","success","info","warning","danger","light","dark","white","black","body-color","body-bg"]);let i,a;Object.entries(t).forEach(([t,e])=>{s.includes(t)&&(a=c(e),i=function(t){let e=c(t),o=e.r,s=e.g,i=e.b,a=(o/=255,s/=255,i/=255,Math.min(o,s,i)),r=Math.max(o,s,i),n=r-a,l=0,h=0,d=0;l=0==n?0:r==o?(s-i)/n%6:r==s?(i-o)/n+2:(o-s)/n+4;(l=Math.round(60*l))<0&&(l+=360);return d=(r+a)/2,h=+(100*(h=0==n?0:n/(1-Math.abs(2*d-1)))).toFixed(1),d=+(100*d).toFixed(1),{h:l,s:h,l:d}}(e),o.css("--bs-"+t+"-h",i.h+""),o.css("--bs-"+t+"-s",i.s+"%"),o.css("--bs-"+t+"-l",i.l+"%"),o.css("--bs-"+t+"-rgb",a.r+","+a.g+","+a.b))}),this.options.state?(o.removeClass(this.DARKMODE_CLASS),o.addClass(this.LIGHTMODE_CLASS)):(o.addClass(this.DARKMODE_CLASS),o.removeClass(this.LIGHTMODE_CLASS))},a.prototype.toggle=function(t=!1){this.options.state=!this.options.state,this.render(),t||this.trigger()},a.prototype.light=function(t=!1){this.options.state||(this.options.state=!0,this.render(),t||this.trigger())},a.prototype.dark=function(t=!1){this.options.state&&(this.options.state=!1,this.render(),t||this.trigger())},a.prototype.trigger=function(t){t||this.$element.trigger("change")},a.prototype.setCookieAutorization=function(t){this.options.allowsCookie=t};let t=r.fn.bsDarkmode;r.fn.bsDarkmode=function(s){let i=Array.prototype.slice.call(arguments,1)[0];return this.each(function(){let t=r(this),e=t.data("bs.darkmode");var o="object"==typeof s&&s;if(e||(e=new a(this,o),t.data("bs.darkmode",e)),"string"==typeof s&&e[s]&&"boolean"==typeof i)e[s](i);else if("string"==typeof s&&e[s])e[s]();else if(s&&!e[s])throw new DOMException("Bootstrap-Darkmode method '"+s+"' doesn't exist","NotSupportedError")})},r.fn.bsDarkmode.Constructor=a,r.fn.toggle.noConflict=function(){return r.fn.bsDarkmode=t,this},r(function(){r("[data-plugin^=bsdarkmode]").bsDarkmode()})}(jQuery);
//# sourceMappingURL=bs-darkmodejquery.min.js.map